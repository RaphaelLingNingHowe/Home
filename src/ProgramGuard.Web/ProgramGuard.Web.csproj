<Project Sdk="Microsoft.NET.Sdk.Web">

    <PropertyGroup>
        <TargetFramework>net8.0</TargetFramework>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>
    </PropertyGroup>

    <ItemGroup>
    <PackageReference Include="DevExtreme.AspNet.Data" Version="4.0.0" />
    <PackageReference Include="DevExtreme.AspNet.Core" Version="23.2.6" />
    <PackageReference Include="Joonasw.AspNetCore.SecurityHeaders" Version="5.0.0" />
    <PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" Version="8.0.8" />
    <PackageReference Include="Microsoft.Extensions.Hosting.WindowsServices" Version="8.0.0" />
    <PackageReference Include="NLog" Version="5.3.3" />
    <PackageReference Include="NLog.Extensions.Logging" Version="5.3.12" />
    <PackageReference Include="NLog.Web.AspNetCore" Version="5.3.12" />
    <PackageReference Include="SecurityCodeScan.VS2019" Version="5.6.7">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    </ItemGroup>

    <ItemGroup>
      <ProjectReference Include="..\ProgramGuard.Data\ProgramGuard.Data.csproj" />
    </ItemGroup>

    <ProjectExtensions><VisualStudio><UserProperties TemplateFeatures="NETCORE" /></VisualStudio></ProjectExtensions>

    <UsingTask TaskName="Babel" AssemblyName="Babel.Build, Version=9.8.0.0, Culture=neutral, PublicKeyToken=138d17b5bd621ab7" />
    <Target Name="MyTask" AfterTargets="AfterBuild">
        <Babel Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' " ToolPath="C:\Program Files\Babel" InputFile="$(TargetPath)" OutputFile="$(TargetPath)" CleanAttributes="\[mscorlib\]System.Runtime.CompilerServices.CompilerGeneratedAttribute;\[mscorlib\]System.Diagnostics.DebuggerDisplayAttribute;\[mscorlib\]System.Diagnostics.DebuggerBrowsableAttribute;\[mscorlib\]System.Diagnostics.DebuggerNonUserCodeAttribute;\[mscorlib\]System.Diagnostics.DebuggerHiddenAttribute;\[mscorlib\]System.Diagnostics.DebuggerStepThroughAttribute;false" ConstRemoval="true" ControlFlowObfuscation="goto=true;switch=true;case=true;if=true;call=true;value=true;token=true;underflow=true;true" CopyAttributes="true" DeadCodeElimination="false" DebuggingProtection="false" DependenciesManifest="true" DetectIfObfuscated="false" Internalize="true" DisgregateRemoval="false" DynamicProxy="None" EmitInvalidOpcodes="false" EnableObfuscationAgent="true" EnumRemoval="true" FlattenNamespaces="false" GenerateDebug="true" GenerateLogFile="true" GenerateMapOutFile="true" ILIterations="3" InlineExpansion="true" Instrument="false" InstrumentEmptyMethods="true" ModuleInitializer="false" MsilEncryption="false" NameLength="5" ObfuscateEvents="true" ObfuscateFields="true" ObfuscateMethods="true" ObfuscateParameters="true" ObfuscateProperties="false" ObfuscateTypes="true" ObfuscateXaml="keys=true;res=true;strip=true;manual=true;true" OverloadedRenaming="methods=true;properties=true;parameters=true;true" ResourceEncryption="false" SealClasses="false" SearchSatelliteAssemblies="true" ShowLogo="false" ShowStatistics="true" StringEncryption="hash" SuppressIldasm="true" SuppressReflection="false" TamperingDetection="true" UnicodeNormalization="0x3300-0x33FF" ValueEncryption="int32=true;int64=true;single=true;double=true;array=true;true" VerboseLevel="3" VirtualFunctions="true" />
    </Target>

    <Target Name="CopyFiles" AfterTargets="AfterPublish">
        <Copy SourceFiles="$(TargetPath)" DestinationFolder="$(ProjectDir)..\..\output\ProgramGuard.Web" />
    </Target>
</Project>
